#pragma once

#include <windows.h>

//defines required to parse through PEB/TEB (could probably include winternal.h instead ?)
struct UNICODE_STRING {
    USHORT Length;
    USHORT MaximumLength;
    PWSTR  Buffer;
};

struct LDR_DATA_TABLE_ENTRY {
    PVOID Reserved1[2];
    LIST_ENTRY InMemoryOrderLinks;
    PVOID Reserved2[2];
    PVOID DllBase;
    PVOID EntryPoint;
	PVOID SizeOfImage;
    UNICODE_STRING FullDllName;
    UNICODE_STRING BaseDllName;
};

struct PEB_LDR_DATA {
    BYTE Reserved1[8];
    PVOID Reserved2[3];
    LIST_ENTRY InMemoryOrderModuleList;
};

struct PEB {
    BYTE Reserved1[2];
    BYTE BeingDebugged;
    BYTE Reserved2[1];
    PVOID Reserved3;
	PVOID ImageBaseAddress;
    PEB_LDR_DATA * Ldr;
};

HMODULE WINAPI cGetModuleHandle(LPCWSTR moduleName);
FARPROC WINAPI cGetProcAddress( HMODULE hModule, LPCSTR lpProcName);